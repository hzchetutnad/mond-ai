export declare const AdminPanel = "\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>\u041C\u043E\u043D\u0434\u0435\u0439 | \u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C</title>\n  <style>\n    :root {\n      --bg: #0f0f0f;\n      --accent: #8774e1;\n      --text: #e1e3e6;\n      --system-bg: #2d2d2d;\n    }\n\n    body {\n      background: var(--bg);\n      color: var(--text);\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n      margin: 0;\n      padding: 20px;\n    }\n\n    .container {\n      max-width: 1200px;\n      margin: 0 auto;\n    }\n\n    .stats {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n      gap: 20px;\n      margin-bottom: 30px;\n    }\n\n    .stat-card {\n      background: var(--system-bg);\n      padding: 20px;\n      border-radius: 12px;\n      text-align: center;\n    }\n\n    .stat-value {\n      font-size: 24px;\n      font-weight: bold;\n      color: var(--accent);\n      margin: 10px 0;\n    }\n\n    .users-table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-top: 20px;\n    }\n\n    .users-table th,\n    .users-table td {\n      padding: 12px;\n      text-align: left;\n      border-bottom: 1px solid var(--system-bg);\n    }\n\n    .users-table th {\n      background: var(--system-bg);\n      font-weight: normal;\n    }\n\n    button {\n      background: var(--accent);\n      color: white;\n      border: none;\n      padding: 8px 16px;\n      border-radius: 6px;\n      cursor: pointer;\n      font-size: 14px;\n    }\n\n    button:hover {\n      opacity: 0.9;\n    }\n\n    button.danger {\n      background: #e74c3c;\n    }\n\n    .search {\n      background: var(--system-bg);\n      border: none;\n      padding: 10px;\n      border-radius: 6px;\n      color: var(--text);\n      width: 100%;\n      max-width: 300px;\n      margin-bottom: 20px;\n    }\n\n    .loading {\n      text-align: center;\n      padding: 40px;\n      color: var(--accent);\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <h1>\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C</h1>\n    \n    <div class=\"stats\">\n      <div class=\"stat-card\">\n        <div>\u0412\u0441\u0435\u0433\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439</div>\n        <div class=\"stat-value\" id=\"totalUsers\">-</div>\n      </div>\n      <div class=\"stat-card\">\n        <div>Premium \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439</div>\n        <div class=\"stat-value\" id=\"premiumUsers\">-</div>\n      </div>\n      <div class=\"stat-card\">\n        <div>\u0412\u0441\u0435\u0433\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439</div>\n        <div class=\"stat-value\" id=\"totalMessages\">-</div>\n      </div>\n    </div>\n\n    <input type=\"text\" class=\"search\" placeholder=\"\u041F\u043E\u0438\u0441\u043A \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439...\" id=\"search\">\n    \n    <div id=\"usersTable\"></div>\n  </div>\n\n  <script>\n    const ADMIN_TOKEN = localStorage.getItem('adminToken');\n    const TELEGRAM_ID = localStorage.getItem('telegramId');\n    \n    if (!ADMIN_TOKEN || !TELEGRAM_ID) {\n      const token = prompt('\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u043C\u0438\u043D \u0442\u043E\u043A\u0435\u043D:');\n      const id = prompt('\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 Telegram ID:');\n      if (token && id) {\n        localStorage.setItem('adminToken', token);\n        localStorage.setItem('telegramId', id);\n        location.reload();\n      } else {\n        document.body.innerHTML = '<div class=\"container\"><h1>\u0414\u043E\u0441\u0442\u0443\u043F \u0437\u0430\u043F\u0440\u0435\u0449\u0435\u043D</h1></div>';\n      }\n    }\n\n    async function fetchWithAuth(url, options = {}) {\n      return fetch(url, {\n        ...options,\n        headers: {\n          ...options.headers,\n          'adminToken': ADMIN_TOKEN,\n          'telegramId': localStorage.getItem('telegramId'),\n          'Content-Type': 'application/json'\n        }\n      });\n    }\n\n    // \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438\n    async function loadStats() {\n      try {\n        const response = await fetchWithAuth('/admin/stats');\n        const stats = await response.json();\n        \n        document.getElementById('totalUsers').textContent = stats.totalUsers;\n        document.getElementById('premiumUsers').textContent = stats.premiumUsers;\n        document.getElementById('totalMessages').textContent = stats.totalMessages;\n      } catch (error) {\n        console.error('Error loading stats:', error);\n      }\n    }\n\n    // \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439\n    async function loadUsers() {\n      try {\n        const response = await fetchWithAuth('/admin/users');\n        const users = await response.json();\n        \n        const searchTerm = document.getElementById('search').value.toLowerCase();\n        const filteredUsers = users.filter(user => \n          user.id.toLowerCase().includes(searchTerm)\n        );\n\n        const table = `\n          <table class=\"users-table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439</th>\n                <th>Premium</th>\n                <th>\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${filteredUsers.map(user => `\n                <tr>\n                  <td>${user.id}</td>\n                  <td>${user.messageCount}</td>\n                  <td>${user.isSubscribed === 'true' ? '\u2705' : '\u274C'}</td>\n                  <td>\n                    <button onclick=\"toggleSubscription('${user.id}', ${user.isSubscribed !== 'true'})\">\n                      ${user.isSubscribed === 'true' ? '\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C' : '\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C'} Premium\n                    </button>\n                    <button class=\"danger\" onclick=\"clearHistory('${user.id}')\">\n                      \u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0438\u0441\u0442\u043E\u0440\u0438\u044E\n                    </button>\n                  </td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n        `;\n\n        document.getElementById('usersTable').innerHTML = table;\n      } catch (error) {\n        console.error('Error loading users:', error);\n      }\n    }\n\n    // \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u043E\u0439\n    async function toggleSubscription(userId, isSubscribed) {\n      try {\n        await fetchWithAuth(`/admin/users/${userId}/subscription`, {\n          method: 'POST',\n          body: JSON.stringify({ isSubscribed })\n        });\n        \n        loadStats();\n        loadUsers();\n      } catch (error) {\n        console.error('Error toggling subscription:', error);\n      }\n    }\n\n    // \u041E\u0447\u0438\u0441\u0442\u043A\u0430 \u0438\u0441\u0442\u043E\u0440\u0438\u0438\n    async function clearHistory(userId) {\n      if (!confirm('\u0422\u043E\u0447\u043D\u043E \u043E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0438\u0441\u0442\u043E\u0440\u0438\u044E \u044D\u0442\u043E\u0433\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F?')) return;\n      \n      try {\n        await fetchWithAuth(`/admin/users/${userId}/history`, {\n          method: 'DELETE'\n        });\n        \n        loadUsers();\n      } catch (error) {\n        console.error('Error clearing history:', error);\n      }\n    }\n\n    // \u0418\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F\n    loadStats();\n    loadUsers();\n    \n    // \u041F\u043E\u0438\u0441\u043A\n    document.getElementById('search').addEventListener('input', loadUsers);\n  </script>\n</body>\n</html>\n";
